var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,g){a!=Array.prototype&&a!=Object.prototype&&(a[d]=g.value)};
$jscomp.getGlobal=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var d=0;d<a.length;++d){var g=a[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,d,g,b){if(d){g=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var f=a[b];f in g||(g[f]={});g=g[f]}a=a[a.length-1];b=g[a];d=d(b);d!=b&&null!=d&&$jscomp.defineProperty(g,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Number.isFinite",function(a){return a?a:function(a){return"number"!==typeof a?!1:!isNaN(a)&&Infinity!==a&&-Infinity!==a}},"es6","es3");
$jscomp.polyfill("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}},"es6","es3");$jscomp.arrayIteratorImpl=function(a){var d=0;return function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,d){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:d})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(g){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(g||"")+"_"+d++,g)}var d=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var g=0,b={next:function(){if(g<a.length){var f=g++;return{value:d(f,a[f]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},d=Object.create(new $jscomp.global.Proxy(a,{get:function(g,b,f){return g==a&&"q"==b&&f==d}}));return!0===d.q}catch(g){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.makeIterator=function(a){var d="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return d?d.call(a):$jscomp.arrayIterator(a)};
$jscomp.owns=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)};
$jscomp.polyfill("WeakMap",function(a){function d(){if(!a||!Object.seal)return!1;try{var e=Object.seal({}),c=Object.seal({}),b=new a([[e,2],[c,3]]);if(2!=b.get(e)||3!=b.get(c))return!1;b.delete(e);b.set(c,4);return!b.has(e)&&4==b.get(c)}catch(I){return!1}}function g(){}function b(a){var e=typeof a;return"object"===e&&null!==a||"function"===e}function f(a){if(!$jscomp.owns(a,c)){var e=new g;$jscomp.defineProperty(a,c,{value:e})}}function l(a){var e=Object[a];e&&(Object[a]=function(a){if(a instanceof
g)return a;f(a);return e(a)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(d())return a;var c="$jscomp_hidden_"+Math.random();l("freeze");l("preventExtensions");l("seal");var m=0,e=function(a){this.id_=(m+=Math.random()+1).toString();if(a){a=$jscomp.makeIterator(a);for(var e;!(e=a.next()).done;)e=e.value,this.set(e[0],e[1])}};e.prototype.set=function(a,e){if(!b(a))throw Error("Invalid WeakMap key");f(a);if(!$jscomp.owns(a,c))throw Error("WeakMap key fail: "+
a);a[c][this.id_]=e;return this};e.prototype.get=function(a){return b(a)&&$jscomp.owns(a,c)?a[c][this.id_]:void 0};e.prototype.has=function(a){return b(a)&&$jscomp.owns(a,c)&&$jscomp.owns(a[c],this.id_)};e.prototype.delete=function(a){return b(a)&&$jscomp.owns(a,c)&&$jscomp.owns(a[c],this.id_)?delete a[c][this.id_]:!1};return e},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function d(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),c=new a($jscomp.makeIterator([[e,"s"]]));if("s"!=c.get(e)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var b=c.entries(),f=b.next();if(f.done||f.value[0]!=e||"s"!=f.value[1])return!1;f=b.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!b.next().done?!1:!0}catch(I){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(d())return a;$jscomp.initSymbolIterator();var g=new WeakMap,b=function(a){this.data_={};this.head_=c();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var e;!(e=a.next()).done;)e=e.value,this.set(e[0],e[1])}};b.prototype.set=function(a,c){a=0===a?0:a;var e=f(this,a);e.list||(e.list=this.data_[e.id]=[]);e.entry?e.entry.value=c:(e.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,
value:c},e.list.push(e.entry),this.head_.previous.next=e.entry,this.head_.previous=e.entry,this.size++);return this};b.prototype.delete=function(a){a=f(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};b.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=c();this.size=0};b.prototype.has=function(a){return!!f(this,a).entry};
b.prototype.get=function(a){return(a=f(this,a).entry)&&a.value};b.prototype.entries=function(){return l(this,function(a){return[a.key,a.value]})};b.prototype.keys=function(){return l(this,function(a){return a.key})};b.prototype.values=function(){return l(this,function(a){return a.value})};b.prototype.forEach=function(a,c){for(var e=this.entries(),b;!(b=e.next()).done;)b=b.value,a.call(c,b[1],b[0],this)};b.prototype[Symbol.iterator]=b.prototype.entries;var f=function(a,c){var b=c&&typeof c;"object"==
b||"function"==b?g.has(c)?b=g.get(c):(b=""+ ++m,g.set(c,b)):b="p_"+c;var e=a.data_[b];if(e&&$jscomp.owns(a.data_,b))for(a=0;a<e.length;a++){var f=e[a];if(c!==c&&f.key!==f.key||c===f.key)return{id:b,list:e,index:a,entry:f}}return{id:b,list:e,index:-1,entry:void 0}},l=function(a,c){var b=a.head_;return $jscomp.iteratorPrototype(function(){if(b){for(;b.head!=a.head_;)b=b.previous;for(;b.next!=b.head;)return b=b.next,{done:!1,value:c(b)};b=null}return{done:!0,value:void 0}})},c=function(){var a={};return a.previous=
a.next=a.head=a},m=0;return b},"es6","es3");
$jscomp.polyfill("Set",function(a){function d(){if($jscomp.ASSUME_NO_NATIVE_SET||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),f=new a($jscomp.makeIterator([b]));if(!f.has(b)||1!=f.size||f.add(b)!=f||1!=f.size||f.add({x:4})!=f||2!=f.size)return!1;var d=f.entries(),c=d.next();if(c.done||c.value[0]!=b||c.value[1]!=b)return!1;c=d.next();return c.done||c.value[0]==b||4!=c.value[0].x||c.value[1]!=c.value[0]?!1:d.next().done}catch(m){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(d())return a;$jscomp.initSymbolIterator();var g=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};g.prototype.add=function(a){a=0===a?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};g.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};g.prototype.clear=function(){this.map_.clear();
this.size=0};g.prototype.has=function(a){return this.map_.has(a)};g.prototype.entries=function(){return this.map_.entries()};g.prototype.values=function(){return this.map_.values()};g.prototype.keys=g.prototype.values;g.prototype[Symbol.iterator]=g.prototype.values;g.prototype.forEach=function(a,f){var b=this;this.map_.forEach(function(c){return a.call(f,c,c,b)})};return g},"es6","es3");
(function(a){"object"===typeof exports&&"undefined"!==typeof module?module.exports=a():"function"===typeof define&&define.amd?define([],a):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).panzoom=a()})(function(){return function(){function a(d,g,b){function f(c,e){if(!g[c]){if(!d[c]){var m="function"==typeof require&&require;if(!e&&m)return m(c,!0);if(l)return l(c,!0);e=Error("Cannot find module '"+c+"'");throw e.code="MODULE_NOT_FOUND",e;
}e=g[c]={exports:{}};d[c][0].call(e.exports,function(a){return f(d[c][1][a]||a)},e,e.exports,a,d,g,b)}return g[c].exports}for(var l="function"==typeof require&&require,c=0;c<b.length;c++)f(b[c]);return f}return a}()({1:[function(a,d,g){function b(a,b){function d(a,b){if(u.getScreenCTM){var n=u.getScreenCTM(),c=n.d,e=n.f;N.x=a*n.a-n.e;N.y=b*c-e}else N.x=a,N.y=b;return N}function g(){var a,b=0,c=0;if(a=sa()){b=a.left;c=a.top;var e=a.right-a.left;a=a.bottom-a.top}else a=q.getBoundingClientRect(),e=a.width,
a=a.height;var f=u.getBBox();if(0!==f.width&&0!==f.height){var d=Math.min(e/f.width,a/f.height);h.x=-(f.left+f.width/2)*d+e/2+b;h.y=-(f.top+f.height/2)*d+a/2+c;h.scale=d}}function l(){return{x:h.x,y:h.y}}function r(a,b){h.x=a;h.y=b;A();K("pan");fa()}function A(){var a=sa();if(a){var b=!1;var c=u.getBBox();var e=c.left*h.scale+h.x,f=c.top*h.scale+h.y;var d=c.width*h.scale+e;c=c.height*h.scale+f;d=a.left-d;0<d&&(h.x+=d,b=!0);d=a.right-e;0>d&&(h.x+=d,b=!0);d=a.top-c;0<d&&(h.y+=d,b=!0);d=a.bottom-f;0>
d&&(h.y+=d,b=!0);return b}}function sa(){if(O){if("boolean"===typeof O){var a=q.getBoundingClientRect(),b=a.width;a=a.height;return{left:b*P,top:a*P,right:b*(1-P),bottom:a*(1-P)}}return O}}function fa(){ha=!0;Q=window.requestAnimationFrame(Ka)}function ta(a,b,c){if(e(a)||e(b)||e(c))throw Error("zoom requires valid numbers");var n=h.scale*c;if(n<L){if(h.scale===L)return;c=L/h.scale}if(n>R){if(h.scale===R)return;c=R/h.scale}a=d(a,b);h.x=a.x-c*(a.x-h.x);h.y=a.y-c*(a.y-h.y);O&&1===P&&1===L?(h.scale*=
c,A()):A()||(h.scale*=c);K("zoom");fa()}function ia(a,b,c){ta(a,b,c/h.scale)}function t(a,b,c){if(c){ja&&ja.cancel();var n=0,e=0;ja=v({x:0,y:0},{x:a,y:b},{step:function(a){r(h.x+(a.x-n),h.y+(a.y-e));n=a.x;e=a.y}})}else r(h.x+a,h.y+b)}function La(a,b){W();r(a,b)}function ua(){q.addEventListener("mousedown",va,{passive:!1});q.addEventListener("dblclick",wa,{passive:!1});q.addEventListener("touchstart",xa,{passive:!1});q.addEventListener("keydown",ya,{passive:!1});p.addWheelListener(q,X,{passive:!1});
fa()}function za(){p.removeWheelListener(q,X);q.removeEventListener("mousedown",va);q.removeEventListener("keydown",ya);q.removeEventListener("dblclick",wa);q.removeEventListener("touchstart",xa);Q&&(window.cancelAnimationFrame(Q),Q=0);B.cancel();Aa();Ba();ka.release();la()}function Ka(){ha&&(ha=!1,u.applyTransform(h),K("transform"),Q=0)}function ya(a){var b=0,c=0,n=0;if(38===a.keyCode)c=1;else if(40===a.keyCode)c=-1;else if(37===a.keyCode)b=1;else if(39===a.keyCode)b=-1;else if(189===a.keyCode||
109===a.keyCode)n=1;else if(187===a.keyCode||107===a.keyCode)n=-1;if(!Ma(a,b,c,n)){if(b||c)onKeyDefault.is_passive||a.preventDefault(),a.defaultPrevented||(onKeyDefault.is_passive=!0),a.stopPropagation(),a=q.getBoundingClientRect(),a=Math.min(a.width,a.height),t(.05*a*b,.05*a*c);n&&(b=Ca(100*n),C?c=S():(c=q.getBoundingClientRect(),c={x:c.width/2,y:c.height/2}),a=c,Y(a.x,a.y,b))}}function xa(a){ma(a);1===a.touches.length?(na=a=D(a.touches[0]),a=d(a.x,a.y),x=a.x,y=a.y,B.cancel(),Da()):2===a.touches.length&&
(oa=Ea(a.touches[0],a.touches[1]),Z=!0,Da())}function ma(a){if(!b.onTouch||b.onTouch(a))a.stopPropagation(),ma.is_passive||a.preventDefault(),a.defaultPrevented||(ma.is_passive=!0)}function pa(a){if(!b.onDoubleClick||b.onDoubleClick(a))pa.is_passive||a.preventDefault(),a.defaultPrevented||(pa.is_passive=!0),a.stopPropagation()}function Da(){T||(T=!0,document.addEventListener("touchmove",aa),document.addEventListener("touchend",ba),document.addEventListener("touchcancel",ba))}function aa(a){if(1===
a.touches.length){a.stopPropagation();var b=D(a.touches[0]);a=d(b.x,b.y);var c=a.x-x,e=a.y-y;0!==c&&0!==e&&Fa();x=a.x;y=a.y;t(c,e)}else if(2===a.touches.length){Z=!0;var n=a.touches[0];b=a.touches[1];c=Ea(n,b);e=1+(c/oa-1)*Na;n=D(n);b=D(b);x=(n.x+b.x)/2;y=(n.y+b.y)/2;C&&(b=S(),x=b.x,y=b.y);Y(x,y,e);oa=c;a.stopPropagation();aa.is_passive||a.preventDefault();a.defaultPrevented||(aa.is_passive=!0)}}function ba(a){if(0<a.touches.length)a=D(a.touches[0]),a=d(a.x,a.y),x=a.x,y=a.y;else{var b=new Date;300>
b-Ga&&(C?(a=S(),ca(a.x,a.y,qa)):ca(na.x,na.y,qa));Ga=b;T=!1;la();Ba()}}function Ea(a,b){var c=a.clientX-b.clientX;a=a.clientY-b.clientY;return Math.sqrt(c*c+a*a)}function wa(a){pa(a);a=D(a);C&&(a=S());ca(a.x,a.y,qa)}function va(a){if(!Oa(a)){if(T)return a.stopPropagation(),!1;if(1===a.button&&null!==window.event||0===a.button){B.cancel();var b=D(a);b=d(b.x,b.y);x=b.x;y=b.y;document.addEventListener("mousemove",Ha);document.addEventListener("mouseup",Ia);ka.capture(a.target||a.srcElement);return!1}}}
function Ha(a){if(!T){Fa();a=D(a);a=d(a.x,a.y);var b=a.x-x,c=a.y-y;x=a.x;y=a.y;t(b,c)}}function Ia(){ka.release();la();Aa()}function Aa(){document.removeEventListener("mousemove",Ha);document.removeEventListener("mouseup",Ia);U=!1}function Ba(){document.removeEventListener("touchmove",aa);document.removeEventListener("touchend",ba);document.removeEventListener("touchcancel",ba);Z=U=!1}function X(a){if(!Pa(a)){B.cancel();var b=a.deltaY;0<a.deltaMode&&(b*=100);b=Ca(b);if(1!==b){var c=C?S():D(a);Y(c.x,
c.y,b);X.is_passive||a.preventDefault();a.defaultPrevented||(X.is_passive=!0)}}}function D(a){var b=q.getBoundingClientRect();return{x:a.clientX-b.left,y:a.clientY-b.top}}function ca(a,b,c){var e=h.scale,d={scale:e};c={scale:c*e};B.cancel();W();V=v(d,c,{step:function(c){ia(a,b,c.scale)},done:Qa})}function S(){var a=q.getBoundingClientRect();return{x:a.width*C.x,y:a.height*C.y}}function Y(a,b,c){B.cancel();W();return ta(a,b,c)}function W(){V&&(V.cancel(),V=null)}function Ca(a){return 1-Math.sign(a)*
Math.min(.25,Math.abs(ra*a/128))}function Fa(){U||(K("panstart"),U=!0,B.start())}function la(){U&&(Z||B.stop(),K("panend"))}function Qa(){K("zoomend")}function K(a){da.fire(a,da)}b=b||{};var u=b.controller;u||(a instanceof SVGElement&&(u=H(a,b)),a instanceof HTMLElement&&(u=E(a,b)));if(!u)throw Error("Cannot create panzoom for the current type of dom element");var q=u.getOwner(),N={x:0,y:0},ha=!1,h=new M;u.initTransform&&u.initTransform(h);var Ma="function"===typeof b.filterKey?b.filterKey:c,Na="number"===
typeof b.pinchSpeed?b.pinchSpeed:1,O=b.bounds,R="number"===typeof b.maxZoom?b.maxZoom:Number.POSITIVE_INFINITY,L="number"===typeof b.minZoom?b.minZoom:0,P="number"===typeof b.boundsPadding?b.boundsPadding:.05,qa="number"===typeof b.zoomDoubleClickSpeed?b.zoomDoubleClickSpeed:1.75,Pa=b.beforeWheel||c,Oa=b.beforeMouseDown||c,ra="number"===typeof b.zoomSpeed?b.zoomSpeed:1,C=f(b.transformOrigin),ka=b.enableTextSelection?k:G;m(O);b.autocenter&&g();var Q,Ga=0,na,T=!1,U=!1,x,y,oa;var B="smoothScroll"in b&&
!b.smoothScroll?{start:c,stop:c,cancel:c}:I(l,La,b.smoothScroll);var ja,V,Z,ea=!1;ua();var da={dispose:function(){za()},moveBy:t,moveTo:r,centerOn:function(a){var b=a.ownerSVGElement;if(!b)throw Error("ui element is required to be within the scene");var c=a.getBoundingClientRect();a=c.left+c.width/2;c=c.top+c.height/2;b=b.getBoundingClientRect();t(b.width/2-a,b.height/2-c,!0)},zoomTo:Y,zoomAbs:ia,smoothZoom:ca,smoothZoomAbs:function(a,b,c){var e={scale:h.scale};c={scale:c};B.cancel();W();V=v(e,c,
{step:function(c){ia(a,b,c.scale)}})},showRectangle:function(a){var b=q.getBoundingClientRect();b=d(b.width,b.height);var c=a.right-a.left,e=a.bottom-a.top;if(!Number.isFinite(c)||!Number.isFinite(e))throw Error("Invalid rectangle");var f=Math.min(b.x/c,b.y/e);h.x=-(a.left+c/2)*f+b.x/2;h.y=-(a.top+e/2)*f+b.y/2;h.scale=f},pause:function(){za();ea=!0},resume:function(){ea&&(ua(),ea=!1)},isPaused:function(){return ea},getTransform:function(){return h},getMinZoom:function(){return L},setMinZoom:function(a){L=
a},getMaxZoom:function(){return R},setMaxZoom:function(a){R=a},getTransformOrigin:function(){return C},setTransformOrigin:function(a){C=f(a)},getZoomSpeed:function(){return ra},setZoomSpeed:function(a){if(!Number.isFinite(a))throw Error("Zoom speed should be a number");ra=a}};Ja(da);return da}function f(a){if(a){if("object"===typeof a)return Number.isFinite(a.x)&&Number.isFinite(a.y)||l(a),a;l()}}function l(a){console.error(a);throw Error('Cannot parse transform origin.\nSome good examples:\n  "center center" can be achieved with {x: 0.5, y: 0.5}\n  "top center" can be achieved with {x: 0.5, y: 0}\n  "bottom right" can be achieved with {x: 1, y: 1}');
}function c(){}function m(a){var b=typeof a;if("undefined"!==b&&"boolean"!==b&&!(Number.isFinite(a.left)&&Number.isFinite(a.top)&&Number.isFinite(a.bottom)&&Number.isFinite(a.right)))throw Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}");}function e(a){return Number.isNaN?Number.isNaN(a):a!==a}var p=a("wheel"),v=a("amator"),Ja=a("ngraph.events"),I=a("./lib/kinetic.js");g=a("./lib/createTextSelectionInterceptor.js");var G=g(),k=
g(!0),M=a("./lib/transform.js"),H=a("./lib/svgController.js"),E=a("./lib/domController.js");d.exports=b;(function(){function a(){var c=document.querySelector(g);if(c){for(var d=e.attributes,f={},v=0;v<d.length;++v){var k=d[v];if(k.name&&"p"===k.name[0]&&"z"===k.name[1]&&"-"===k.name[2]){var p=k.name.substr(3);k=JSON.parse(k.value);p={name:p,value:k}}else p=void 0;p&&(f[p.name]=p.value)}console.log(f);window[l]=b(c,f)}else 2E3>Date.now()-m?setTimeout(a,100):console.error("Cannot find the panzoom element",
l)}if("undefined"!==typeof document){var c=document.getElementsByTagName("script");if(c){for(var e,d=0;d<c.length;++d){var f=c[d];if(f.src&&f.src.match(/\bpanzoom(\.min)?\.js/)){e=f;break}}if(e){var g=e.getAttribute("query");if(g){var l=e.getAttribute("name")||"pz",m=Date.now();a()}}}}})()},{"./lib/createTextSelectionInterceptor.js":2,"./lib/domController.js":3,"./lib/kinetic.js":4,"./lib/svgController.js":5,"./lib/transform.js":6,amator:7,"ngraph.events":9,wheel:10}],2:[function(a,d,g){function b(a){a.stopPropagation();
return!1}function f(){}d.exports=function(a){if(a)return{capture:f,release:f};var c,d,e,g=!1;return{capture:function(a){g=!0;d=window.document.onselectstart;e=window.document.ondragstart;window.document.onselectstart=b;c=a;c.ondragstart=b},release:function(){g&&(g=!1,window.document.onselectstart=d,c&&(c.ondragstart=e))}}}},{}],3:[function(a,d,g){d.exports=function(a,d){if(!(a instanceof HTMLElement))throw Error("svg element is required for svg.panzoom to work");var b=a.parentElement;if(!b)throw Error("Do not apply panzoom to the detached DOM element. ");
a.scrollTop=0;d.disableKeyboardInteraction||b.setAttribute("tabindex",0);return{getBBox:function(){return{left:0,top:0,width:a.clientWidth,height:a.clientHeight}},getOwner:function(){return b},applyTransform:function(b){a.style.transformOrigin="0 0 0";b="matrix3d("+b.scale+", 0, 0, 0, 0, "+b.scale+", 0, 0, 0, 0, 1, 0, "+b.x+", "+b.y+", 0, 1)";a.style.transform=b;a.style.webkitTransform=b;a.style.MozTransform=b;a.style.msTransform=b;a.style.OTransform=b}}}},{}],4:[function(a,d,g){(function(a){function b(){return"function"===
typeof a.requestAnimationFrame?a.requestAnimationFrame:function(a){return setTimeout(a,16)}}d.exports=function(d,c,f){function e(){var a=Date.now(),b=a-H;H=a;var c=d();a=c.x-M.x;var f=c.y-M.y;M=c;b=1E3/(1+b);r=.8*a*b+.2*r;w=.8*f*b+.2*w;E=k(e)}function g(){var a=Date.now()-H,b=!1,e=0,d=0;z&&(e=-z*Math.exp(-a/342),.5<e||-.5>e?b=!0:e=z=0);J&&(d=-J*Math.exp(-a/342),.5<d||-.5>d?b=!0:d=J=0);b&&(c(t+e,F+d),A=k(g))}"object"!==typeof f&&(f={});var l="number"===typeof f.minVelocity?f.minVelocity:5,m="number"===
typeof f.amplitude?f.amplitude:.25;var I="function"===typeof f.cancelAnimationFrame?f.cancelAnimationFrame:"function"===typeof a.cancelAnimationFrame?a.cancelAnimationFrame:clearTimeout;var G=I,k="function"===typeof f.requestAnimationFrame?f.requestAnimationFrame:b(),M,H,E,r,t,z,w,F,J,A;return{start:function(){M=d();z=J=r=w=0;H=new Date;G(E);G(A);E=k(e)},stop:function(){G(E);G(A);var a=d();t=a.x;F=a.y;H=Date.now();if(r<-l||r>l)z=m*r,t+=z;if(w<-l||w>l)J=m*w,F+=J;A=k(g)},cancel:function(){G(E);G(A)}}}}).call(this,
"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],5:[function(a,d,g){d.exports=function(a,d){if(!(a instanceof SVGElement))throw Error("svg element is required for svg.panzoom to work");var b=a.ownerSVGElement;if(!b)throw Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");d.disableKeyboardInteraction||b.setAttribute("tabindex",
0);return{getBBox:function(){var b=a.getBBox();return{left:b.x,top:b.y,width:b.width,height:b.height}},getScreenCTM:function(){var a=b.getCTM();return a?a:b.getScreenCTM()},getOwner:function(){return b},applyTransform:function(b){a.setAttribute("transform","matrix("+b.scale+" 0 0 "+b.scale+" "+b.x+" "+b.y+")")},initTransform:function(c){var d=a.getCTM();c.x=d.e;c.y=d.f;c.scale=d.a;b.removeAttributeNS(null,"viewBox")}}}},{}],6:[function(a,d,g){d.exports=function(){this.y=this.x=0;this.scale=1}},{}],
7:[function(a,d,g){function b(){}function f(a){if(!a)return"undefined"!==typeof window&&window.requestAnimationFrame?{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}:l();if("function"!==typeof a.next)throw Error("Scheduler is supposed to have next(cb) function");if("function"!==typeof a.cancel)throw Error("Scheduler is supposed to have cancel(handle) function");return a}function l(){return{next:function(a){return setTimeout(a,1E3/60)},cancel:function(a){return clearTimeout(a)}}}
function c(){function a(a){d.add(a);f||(f=requestAnimationFrame(b))}function b(){f=0;var a=d;d=c;c=a;c.forEach(function(a){a()});c.clear()}var c=new Set,d=new Set,f=0;return{next:a,cancel:a,clearAll:function(){c.clear();d.clear();cancelAnimationFrame(f);f=0}}}a=a("bezier-easing");var m={ease:a(.25,.1,.25,1),easeIn:a(.42,0,1,1),easeOut:a(0,0,.58,1),easeInOut:a(.42,0,.58,1),linear:a(0,0,1,1)};d.exports=function(a,c,d){function e(){var b=p(w/z);w+=1;g(b);w<=z?(F=r.next(e),v(a)):(F=0,setTimeout(function(){E(a)},
0))}function g(b){t.forEach(function(c){a[c]=k[c]*b+l[c]})}var l=Object.create(null),k=Object.create(null);d=d||{};var p="function"===typeof d.easing?d.easing:m[d.easing];p||(d.easing&&console.warn("Unknown easing function in amator: "+d.easing),p=m.ease);var v="function"===typeof d.step?d.step:b,E="function"===typeof d.done?d.done:b,r=f(d.scheduler),t=Object.keys(c);t.forEach(function(b){l[b]=a[b];k[b]=c[b]-a[b]});var z=Math.max(1,.06*("number"===typeof d.duration?d.duration:400)),w=0;var F=r.next(e);
return{cancel:function(){r.cancel(F);F=0}}};d.exports.makeAggregateRaf=c;d.exports.sharedScheduler=c()},{"bezier-easing":8}],8:[function(a,d,g){function b(a,b,d){return(((1-3*d+3*b)*a+(3*d-6*b))*a+3*b)*a}function f(a){return a}var l="function"===typeof Float32Array;d.exports=function(a,d,e,g){if(!(0<=a&&1>=a&&0<=e&&1>=e))throw Error("bezier x values must be in [0, 1] range");if(a===d&&e===g)return f;for(var c=l?new Float32Array(11):Array(11),m=0;11>m;++m)c[m]=b(.1*m,a,e);return function(f){if(0===
f)return 0;if(1===f)return 1;for(var l=0,k=1;10!==k&&c[k]<=f;++k)l+=.1;--k;k=l+(f-c[k])/(c[k+1]-c[k])*.1;var m=3*(1-3*e+3*a)*k*k+2*(3*e-6*a)*k+3*a;if(.001<=m){for(l=0;4>l;++l){m=3*(1-3*e+3*a)*k*k+2*(3*e-6*a)*k+3*a;if(0===m)break;var p=b(k,a,e)-f;k-=p/m}f=k}else if(0===m)f=k;else{k=l;l+=.1;var v=0;do p=k+(l-k)/2,m=b(p,a,e)-f,0<m?l=p:k=p;while(1E-7<Math.abs(m)&&10>++v);f=p}return b(f,d,g)}}},{}],9:[function(a,d,g){function b(a){var b=Object.create(null);return{on:function(c,d,e){if("function"!==typeof d)throw Error("callback is expected to be a function");
var f=b[c];f||(f=b[c]=[]);f.push({callback:d,ctx:e});return a},off:function(c,d){if("undefined"===typeof c)return b=Object.create(null),a;if(b[c])if("function"!==typeof d)delete b[c];else{c=b[c];for(var e=0;e<c.length;++e)c[e].callback===d&&c.splice(e,1)}return a},fire:function(c){var d=b[c];if(!d)return a;var e;1<arguments.length&&(e=Array.prototype.splice.call(arguments,1));for(var f=0;f<d.length;++f){var g=d[f];g.callback.apply(g.ctx,e)}return a}}}d.exports=function(a){if(!a)throw Error("Eventify cannot use falsy object as events subject");
for(var d=["on","fire","off"],c=0;c<d.length;++c)if(a.hasOwnProperty(d[c]))throw Error("Subject cannot be eventified, since it already has property '"+d[c]+"'");d=b(a);a.on=d.on;a.off=d.off;a.fire=d.fire;return a}},{}],10:[function(a,d,g){function b(a,b,c){a.addEventListener("wheel",b,c)}d.exports=b;d.exports.addWheelListener=b;d.exports.removeWheelListener=function(a,b,c){a.removeEventListener("wheel",b,c)}},{}]},{},[1])(1)});
